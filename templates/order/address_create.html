{% extends 'base.html' %} 
{% load static %}

{% block head %}
{% endblock %}

{% block content %}
{% load crispy_forms_tags %}

<div class="card user-form mx-auto my-2">
    <div class="card-body">
        <h2><span class="h-text">{{ title }}</span> </h2>
        <form action="" method="post">
            {% csrf_token %}
            {{ form|crispy }}

            <button type="submit" class="btn btn-primary custom-btn">Save</button>
            <button type="button" class="btn btn-secondary" onclick="closeWindow()">Cancel</button>
        </form>
    </div>
</div>

<script type="text/javascript">
    // https://stackoverflow.com/questions/11398356/refreshing-parent-window-after-closing-popup
    window.onunload = function() {
        window.opener.location.reload();
    }

    function closeWindow() {
        window.close();
    }
</script>
{% endblock %}